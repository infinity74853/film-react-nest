import { Injectable } from '@nestjs/common';
import { FilmDto, FilmScheduleDto } from '../films/dto/films.dto';
import { FilmsRepository } from './films.repository.interface';

@Injectable()
export class MemoryFilmsRepository implements FilmsRepository {
  private films: FilmDto[] = [
    {
      id: '1',
      rating: 2.9,
      director: 'Итан Райт',
      tags: ['Документальный'],
      title: 'Архитекторы общества',
      about:
        'Документальный фильм, исследующий влияние искусственного интеллекта на общество и этические, философские и социальные последствия технологии.',
      description:
        'Документальный фильм Итана Райта исследует влияние технологий на современное общество, уделяя особое внимание роли искусственного интеллекта в формировании нашего будущего. Фильм исследует этические, философские и социальные последствия гонки технологий ИИ и поднимает вопрос: какой мир мы создаём для будущих поколений.',
      image: '/content/afisha/bg1s.jpg',
      cover: '/content/afisha/bg1c.jpg',
    },
    {
      id: '2',
      rating: 9,
      director: 'Харрисон Рид',
      tags: ['Рекомендуемые'],
      title: 'Недостижимая утопия',
      about:
        'Провокационный фильм-антиутопия, исследующий темы свободы, контроля и цены совершенства.',
      description:
        'Провокационный фильм-антиутопия режиссера Харрисона Рида. Действие фильма разворачивается в, казалось бы, идеальном обществе, и рассказывает о группе граждан, которые начинают подвергать сомнению систему. Фильм исследует темы свободы, контроля и цены совершенства.',
      image: '/content/afisha/bg2s.jpg',
      cover: '/content/afisha/bg2c.jpg',
    },
    {
      id: '3',
      rating: 8.5,
      director: 'Элиза Уиттакер',
      tags: ['Рекомендуемые'],
      title: 'Звёздное путешествие',
      about:
        'Научно-фантастический фильм о команде астронавтов, исследующий темы жизнестойкости, надежды и силы человеческих связей',
      description:
        '«Звёздное путешествие» — прекрасный научно-фантастический фильм о команде астронавтов, путешествующих по галактике в поисках нового дома для человечества. Помимо потрясающей работы оператора и специалистов по визуальным эффектам, можно отметить темы, исследуемые в фильме: жизнестойкости, надежды и силы человеческих связей.',
      image: '/content/afisha/bg3s.jpg',
      cover: '/content/afisha/bg3c.jpg',
    },
    {
      id: '4',
      rating: 8.9,
      director: 'Лила Васкес',
      tags: ['Рекомендуемые'],
      title: 'Стражи Гримуара',
      about:
        'Фэнтезийное приключение об истинном значении дружбы, мужества и силы знаний',
      description:
        'Захватывающее фэнтезийное приключение, которое рассказывает о группе героев, которые должны защитить древний магический том от попадания в руки тёмного колдуна. История об истинном значении дружбы, мужества и силы знаний.',
      image: '/content/afisha/bg4s.jpg',
      cover: '/content/afisha/bg4c.jpg',
    },
    {
      id: '5',
      rating: 9.5,
      director: 'Оливер Беннет',
      tags: ['Рекомендуемые'],
      title: 'Парадокс Нексуса',
      about:
        'Фильм об эксперименте по соединению человеческих умов. Исследует вопросы неприкосновенности частной жизни, идентичности и самой природы человеческого сознания',
      description:
        'В фильме исследуются последствия новаторского эксперимента по соединению человеческих умов. По мере развития проекта участники сталкиваются с вопросами неприкосновенности частной жизни, идентичности и самой природы человеческого сознания.',
      image: '/content/afisha/bg5s.jpg',
      cover: '/content/afisha/bg5c.jpg',
    },
    {
      id: '6',
      rating: 8.1,
      director: 'Амелия Хьюз',
      tags: ['Рекомендуемые'],
      title: 'Сон в летний день',
      about:
        'Фэнтези-фильм о группе друзей попавших в волшебный лес, где время остановилось.',
      description:
        'Причудливый фэнтези-фильм, действие которого происходит в волшебном лесу, где время остановилось. Группа друзей натыкается на это заколдованное царство и поначалу проникается беззаботным духом обитателей, но потом друзьям приходится разойтись. А как встретиться снова, если нет ни времени, ни места встречи?',
      image: '/content/afisha/bg6s.jpg',
      cover: '/content/afisha/bg6c.jpg',
    },
  ];

  private schedules: FilmScheduleDto[] = [
    {
      id: '1',
      film: this.films[0],
      schedule: [
        {
          id: '1-1',
          daytime: '2024-01-20T18:00:00.001Z',
          hall: '1',
          rows: 10,
          seats: 100,
          price: 350,
          taken: ['1:2', '3:4'],
        },
        {
          id: '1-2',
          daytime: '2024-01-20T21:00:00.001Z',
          hall: '2',
          rows: 8,
          seats: 80,
          price: 400,
          taken: ['2:3'],
        },
      ],
    },
    {
      id: '2',
      film: this.films[1],
      schedule: [
        {
          id: '2-1',
          daytime: '2024-01-20T19:00:00.001Z',
          hall: '3',
          rows: 12,
          seats: 120,
          price: 450,
          taken: ['5:6', '7:8'],
        },
      ],
    },
    {
      id: '3',
      film: this.films[2],
      schedule: [
        {
          id: '3-1',
          daytime: '2024-01-20T17:30:00.001Z',
          hall: '4',
          rows: 6,
          seats: 60,
          price: 300,
          taken: ['1:1'],
        },
      ],
    },
    {
      id: '4',
      film: this.films[3],
      schedule: [
        {
          id: '4-1',
          daytime: '2024-01-20T16:00:00.001Z',
          hall: '5',
          rows: 8,
          seats: 75,
          price: 320,
          taken: ['3:5', '4:6'],
        },
      ],
    },
    {
      id: '5',
      film: this.films[4],
      schedule: [
        {
          id: '5-1',
          daytime: '2024-01-20T18:30:00.001Z',
          hall: '6',
          rows: 15,
          seats: 150,
          price: 500,
          taken: ['10:10'],
        },
      ],
    },
    {
      id: '6',
      film: this.films[5],
      schedule: [
        {
          id: '6-1',
          daytime: '2024-01-20T17:00:00.001Z',
          hall: '7',
          rows: 5,
          seats: 50,
          price: 280,
          taken: ['2:4'],
        },
      ],
    },
  ];

  async findAll(): Promise<FilmDto[]> {
    return this.films;
  }

  async findById(id: string): Promise<FilmScheduleDto | null> {
    return this.schedules.find((schedule) => schedule.id === id) || null;
  }
}
